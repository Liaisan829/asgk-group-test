<div class='actions'>
	<button (click)='openPushMessageDialog()'>Отправить Push сообщение</button>
	<button (click)='addClient()'>Добавить клиента</button>
</div>

<cdk-table [dataSource]='dataSource'>
	<cdk-header-row *cdkHeaderRowDef='columns; sticky: true'></cdk-header-row>

	<ng-container cdkColumnDef='fio'>
		<cdk-header-cell *cdkHeaderCellDef class='fio'>
			<span>ФИО</span>
			<div class='fio__btns'>
				<button (click)="sort('fio', true)">
					<app-icon name='arrow-top'></app-icon>
				</button>
				<button (click)="sort('fio', false)">
					<app-icon name='arrow-down'></app-icon>
				</button>
			</div>
		</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row' class='fio'>
			{{ row.fio }}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='phone'>
		<cdk-header-cell *cdkHeaderCellDef>Номер телефона</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row'>
			{{ row.phone }}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='email'>
		<cdk-header-cell *cdkHeaderCellDef>Почта</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row'>
			{{ row.email }}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='birthday'>
		<cdk-header-cell *cdkHeaderCellDef>Дата рождения</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row'>
			{{ row.birthday }}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='visits'>
		<cdk-header-cell *cdkHeaderCellDef class='visits'>Посещений</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row' class='visits'>
			{{ row.visits }}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='discount'>
		<cdk-header-cell *cdkHeaderCellDef class='discount'>Скидка</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row' class='discount'>
			{{ row.discount | discount}}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='loyalty_level'>
		<cdk-header-cell *cdkHeaderCellDef>Уровень лояльности</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row'>
			{{ row.loyalty_level }}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='bonus'>
		<cdk-header-cell *cdkHeaderCellDef class='bonus'>Бонусы</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row' class='bonus'>
			{{ row.bonus }}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='date_last'>
		<cdk-header-cell *cdkHeaderCellDef>Последнее посещение</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row'>
			{{ row.date_last }}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='summ'>
		<cdk-header-cell *cdkHeaderCellDef class='summ'>Сумма</cdk-header-cell>

		<cdk-cell *cdkCellDef='let row' class='summ'>
			{{ row.summ }}
		</cdk-cell>
	</ng-container>

	<ng-container cdkColumnDef='delete'>
		<cdk-header-cell *cdkHeaderCellDef class='delete'></cdk-header-cell>

		<cdk-cell *cdkCellDef='let row' class='delete'>
			<button (click)='deleteClient(row)'>
				<app-icon name='trash'></app-icon>
			</button>
		</cdk-cell>
	</ng-container>

	<cdk-row
		*cdkRowDef='let row; columns: columns'
	></cdk-row>
</cdk-table>
